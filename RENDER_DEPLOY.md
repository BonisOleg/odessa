# –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–µ–ø–ª–æ—é CRM Nice –Ω–∞ Render

## ‚úÖ –©–æ –≤–∂–µ –∑—Ä–æ–±–ª–µ–Ω–æ:

1. ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏ –¥–ª—è Render:
   - `render.yaml` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Å–µ—Ä–≤—ñ—Å—ñ–≤
   - `build.sh` - —Å–∫—Ä–∏–ø—Ç –∑–±—ñ—Ä–∫–∏
   - `Procfile` - –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫—É
   - `runtime.txt` - –≤–µ—Ä—Å—ñ—è Python
   
2. ‚úÖ –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ production settings:
   - PostgreSQL –ø—ñ–¥—Ç—Ä–∏–º–∫–∞
   - WhiteNoise –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
   - –ë–µ–∑–ø–µ–∫–∞ (SSL, HSTS, secure cookies)
   - Gunicorn WSGI —Å–µ—Ä–≤–µ—Ä

3. ‚úÖ –ö–æ–¥ –∑–∞–ø—É—à–µ–Ω–æ –≤ GitHub: `git@github.com:BonisOleg/odessa.git`

---

## üìã –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ –¥–ª—è –¥–µ–ø–ª–æ—é:

### 1. –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é –¥–æ Render

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [Render Dashboard](https://dashboard.render.com/)
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New +"** ‚Üí **"Blueprint"**
3. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å –≤–∞—à GitHub –∞–∫–∞—É–Ω—Ç (—è–∫—â–æ —â–µ –Ω–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π)
4. –û–±–µ—Ä—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: **`BonisOleg/odessa`**
5. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏—è–≤–∏—Ç—å `render.yaml` —ñ –ø–æ–∫–∞–∂–µ —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤—ñ—Å—ñ–≤:
   - Web Service: `crm-nice`
   - PostgreSQL Database: `crm-nice-db`

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

Render —Å—Ç–≤–æ—Ä–∏—Ç—å –±—ñ–ª—å—à—ñ—Å—Ç—å –∑–º—ñ–Ω–Ω–∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –∞–ª–µ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ **–≤—Ä—É—á–Ω—É –¥–æ–¥–∞—Ç–∏/–ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**:

#### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ:

- **`ALLOWED_HOSTS`** - –¥–æ–¥–∞–π—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω
  ```
  your-app-name.onrender.com
  ```

- **`CSRF_TRUSTED_ORIGINS`** - –¥–æ–¥–∞–π—Ç–µ –∑ https://
  ```
  https://your-app-name.onrender.com
  ```

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∑–º—ñ–Ω–Ω—ñ (–ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ):
- `SECRET_KEY` - ‚úÖ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- `DATABASE_URL` - ‚úÖ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ PostgreSQL
- `DJANGO_SETTINGS_MODULE` - ‚úÖ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ `CRM_Nice.settings.production`
- `DEBUG` - ‚úÖ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ `False`

### 3. –ó–∞–ø—É—Å–∫ –¥–µ–ø–ª–æ—é

1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Apply"** –∞–±–æ **"Deploy"**
2. Render –ø–æ—á–Ω–µ:
   - –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
   - –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ PostgreSQL –±–∞–∑—É
   - –ó–∞–ø—É—Å–∫–∞—Ç–∏ `build.sh`:
     - –í—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
     - –ó–±–∏—Ä–∞—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏
     - –í–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó
   - –ó–∞–ø—É—Å–∫–∞—Ç–∏ Gunicorn —Å–µ—Ä–≤–µ—Ä

### 4. –ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é

1. **–°—Ç–≤–æ—Ä—ñ—Ç—å —Å—É–ø–µ—Ä—é–∑–µ—Ä–∞** (—á–µ—Ä–µ–∑ Render Shell):
   ```bash
   python manage.py createsuperuser
   ```
   
   –î–ª—è —Ü—å–æ–≥–æ:
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à Web Service –≤ Render Dashboard
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Shell"** —É –≤–µ—Ä—Ö–Ω—å–æ–º—É –º–µ–Ω—é
   - –í–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤–∏—â–µ

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å–∞–π—Ç:**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ URL –≤–∞—à–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É (–ø–æ–∫–∞–∑–∞–Ω–∏–π –≤ Dashboard)
   - –°–ø—Ä–æ–±—É–π—Ç–µ —É–≤—ñ–π—Ç–∏ —á–µ—Ä–µ–∑ `/admin/` –∑ —Å—Ç–≤–æ—Ä–µ–Ω–∏–º —Å—É–ø–µ—Ä—é–∑–µ—Ä–æ–º
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –æ—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

### 5. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥–∏

- **–õ–æ–≥–∏:** Render Dashboard ‚Üí –≤–∞—à —Å–µ—Ä–≤—ñ—Å ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Logs"
- **Metrics:** –≤–∫–ª–∞–¥–∫–∞ "Metrics" –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤
- **Events:** –≤–∫–ª–∞–¥–∫–∞ "Events" –¥–ª—è —ñ—Å—Ç–æ—Ä—ñ—ó –¥–µ–ø–ª–æ—ó–≤

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è custom domain (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

–Ø–∫—â–æ —É –≤–∞—Å —î –≤–ª–∞—Å–Ω–∏–π –¥–æ–º–µ–Ω:

1. Render Dashboard ‚Üí –≤–∞—à Web Service ‚Üí **"Settings"**
2. –ü—Ä–æ–∫—Ä—É—Ç—ñ—Ç—å –¥–æ **"Custom Domain"**
3. –î–æ–¥–∞–π—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω
4. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ DNS –∑–∞–ø–∏—Å–∏ (Render –ø–æ–∫–∞–∂–µ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó)
5. **–í–∞–∂–ª–∏–≤–æ:** –î–æ–¥–∞–π—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω –¥–æ –∑–º—ñ–Ω–Ω–∏—Ö:
   - `ALLOWED_HOSTS`
   - `CSRF_TRUSTED_ORIGINS`

---

## üêõ Troubleshooting

### –ü–æ–º–∏–ª–∫–∞ "DisallowedHost"
**–†—ñ—à–µ–Ω–Ω—è:** –î–æ–¥–∞–π—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω –¥–æ `ALLOWED_HOSTS` –≤ Environment Variables

### –ü–æ–º–∏–ª–∫–∞ CSRF
**–†—ñ—à–µ–Ω–Ω—è:** –î–æ–¥–∞–π—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω (–∑ https://) –¥–æ `CSRF_TRUSTED_ORIGINS`

### –°—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è
**–†—ñ—à–µ–Ω–Ω—è:** 
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –∑–±—ñ—Ä–∫–∏ - `collectstatic` –º–∞—î –≤–∏–∫–æ–Ω–∞—Ç–∏—Å—è —É—Å–ø—ñ—à–Ω–æ
- WhiteNoise –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤ `production.py`

### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –ø–æ—Ä–æ–∂–Ω—è
**–†—ñ—à–µ–Ω–Ω—è:** –ú—ñ–≥—Ä–∞—Ü—ñ—ó –º–∞—é—Ç—å –≤–∏–∫–æ–Ω–∞—Ç–∏—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –∞–ª–µ –º–æ–∂–Ω–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Ä—É—á–Ω—É —á–µ—Ä–µ–∑ Shell:
```bash
python manage.py migrate
```

---

## üìö –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

- [Render Dashboard](https://dashboard.render.com/)
- [Render Docs - Django](https://render.com/docs/deploy-django)
- [GitHub Repository](https://github.com/BonisOleg/odessa)

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à CRM Nice —Ç–µ–ø–µ—Ä –≥–æ—Ç–æ–≤–∏–π –¥–æ –¥–µ–ø–ª–æ—é –Ω–∞ Render. –ü—Ä–æ—Å—Ç–æ —Å–ª—ñ–¥—É–π—Ç–µ –∫—Ä–æ–∫–∞–º–∏ –≤–∏—â–µ —ñ –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –±—É–¥–µ –æ–Ω–ª–∞–π–Ω –∑–∞ 5-10 —Ö–≤–∏–ª–∏–Ω!

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:** `git@github.com:BonisOleg/odessa.git`
**–ì—ñ–ª–∫–∞:** `main`
