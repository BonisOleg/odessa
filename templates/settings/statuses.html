{% extends 'layout.html' %}
{% load static %}

{% block title %}Статусы - Настройки - CRM Nice{% endblock %}

{% block page_css %}
<link rel="stylesheet" href="{% static 'css/components/table.css' %}">
<link rel="stylesheet" href="{% static 'css/components/badge.css' %}">
<link rel="stylesheet" href="{% static 'css/components/card.css' %}">
{% endblock %}

{% block page_content %}
<div class="page-header">
    <h1>Управление статусами</h1>
    <p><a href="/settings/" hx-get="/settings/" hx-target="#main-content" hx-push-url="true" class="text-primary">←
            Назад к настройкам</a></p>
</div>

<div class="card">
    <div class="card__header">
        <div class="card__header-flex">
            <h3 class="card__title">Статусы компаний</h3>
            <button type="button" class="button button--primary" hx-get="/settings/statuses/add/" hx-target="body"
                hx-swap="beforeend">+ Добавить статус</button>
        </div>
    </div>

    <table class="table">
        <thead class="table__head">
            <tr>
                <th class="table__th">Название</th>
                <th class="table__th">Цвет</th>
                <th class="table__th">По умолчанию</th>
                <th class="table__th">Кол-во компаний</th>
                <th class="table__th">Действия</th>
            </tr>
        </thead>
        <tbody>
            <tr class="table__row">
                <td class="table__td">Новая</td>
                <td class="table__td">
                    <span class="badge badge--warning">Новая</span>
                    <span class="text-muted">#FEF3C7 / #92400E</span>
                </td>
                <td class="table__td">✓ Да</td>
                <td class="table__td">25</td>
                <td class="table__td">
                    <button type="button" class="button button--sm button--secondary"
                        hx-get="/settings/statuses/1/edit/" hx-target="body" hx-swap="beforeend">Редактировать</button>
                    <button type="button" class="button button--sm button--danger" hx-get="/settings/statuses/1/delete/"
                        hx-target="body" hx-swap="beforeend">Удалить</button>
                </td>
            </tr>
            <tr class="table__row">
                <td class="table__td">В работе</td>
                <td class="table__td">
                    <span class="badge badge--success">В работе</span>
                    <span class="text-muted">#D1FAE5 / #065F46</span>
                </td>
                <td class="table__td">-</td>
                <td class="table__td">82</td>
                <td class="table__td">
                    <button type="button" class="button button--sm button--secondary"
                        hx-get="/settings/statuses/1/edit/" hx-target="body" hx-swap="beforeend">Редактировать</button>
                    <button type="button" class="button button--sm button--danger" hx-get="/settings/statuses/1/delete/"
                        hx-target="body" hx-swap="beforeend">Удалить</button>
                </td>
            </tr>
            <tr class="table__row">
                <td class="table__td">Заключен договор</td>
                <td class="table__td">
                    <span class="badge badge--info">Заключен договор</span>
                    <span class="text-muted">#DBEAFE / #1E40AF</span>
                </td>
                <td class="table__td">-</td>
                <td class="table__td">43</td>
                <td class="table__td">
                    <button type="button" class="button button--sm button--secondary"
                        hx-get="/settings/statuses/1/edit/" hx-target="body" hx-swap="beforeend">Редактировать</button>
                    <button type="button" class="button button--sm button--danger" hx-get="/settings/statuses/1/delete/"
                        hx-target="body" hx-swap="beforeend">Удалить</button>
                </td>
            </tr>
            <tr class="table__row">
                <td class="table__td">Отказ</td>
                <td class="table__td">
                    <span class="badge badge--danger">Отказ</span>
                    <span class="text-muted">#FEE2E2 / #991B1B</span>
                </td>
                <td class="table__td">-</td>
                <td class="table__td">18</td>
                <td class="table__td">
                    <button type="button" class="button button--sm button--secondary"
                        hx-get="/settings/statuses/1/edit/" hx-target="body" hx-swap="beforeend">Редактировать</button>
                    <button type="button" class="button button--sm button--danger" hx-get="/settings/statuses/1/delete/"
                        hx-target="body" hx-swap="beforeend">Удалить</button>
                </td>
            </tr>
            <tr class="table__row">
                <td class="table__td">Архив</td>
                <td class="table__td">
                    <span class="badge badge--secondary">Архив</span>
                    <span class="text-muted">#F3F4F6 / #6B7280</span>
                </td>
                <td class="table__td">-</td>
                <td class="table__td">12</td>
                <td class="table__td">
                    <button type="button" class="button button--sm button--secondary"
                        hx-get="/settings/statuses/1/edit/" hx-target="body" hx-swap="beforeend">Редактировать</button>
                    <button type="button" class="button button--sm button--danger" hx-get="/settings/statuses/1/delete/"
                        hx-target="body" hx-swap="beforeend">Удалить</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>
{% endblock %}