# üîß –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏ Render: "Cannot have more than one active free tier database"

## –ü—Ä–æ–±–ª–µ–º–∞
Render –¥–æ–∑–≤–æ–ª—è—î –º–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ **–æ–¥–Ω—É –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—É PostgreSQL –±–∞–∑—É –¥–∞–Ω–∏—Ö** –Ω–∞ –∞–∫–∞—É–Ω—Ç. –Ø–∫—â–æ —É –≤–∞—Å –≤–∂–µ —î –∞–∫—Ç–∏–≤–Ω–∞ free tier –±–∞–∑–∞, –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —â–µ –æ–¥–Ω—É.

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è: 3 –≤–∞—Ä—ñ–∞–Ω—Ç–∏

---

## –í–∞—Ä—ñ–∞–Ω—Ç 1: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ—ó PostgreSQL –±–∞–∑–∏ (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

–Ø–∫—â–æ —É –≤–∞—Å –≤–∂–µ —î PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–∞ Render:

### –ö—Ä–æ–∫ 1: –û—Ç—Ä–∏–º–∞–π—Ç–µ DATABASE_URL
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [Render Dashboard](https://dashboard.render.com/)
2. –ó–Ω–∞–π–¥—ñ—Ç—å –≤–∞—à—É —ñ—Å–Ω—É—é—á—É PostgreSQL –±–∞–∑—É
3. –°–∫–æ–ø—ñ—é–π—Ç–µ **Internal Database URL** –∞–±–æ **External Database URL**

### –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä—ñ—Ç—å Web Service –≤—Ä—É—á–Ω—É
1. Render Dashboard ‚Üí **"New +"** ‚Üí **"Web Service"**
2. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: `BonisOleg/odessa`
3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
   - **Name:** `crm-nice`
   - **Runtime:** Python 3
   - **Build Command:** `./build.sh`
   - **Start Command:** `gunicorn CRM_Nice.wsgi:application`

### –ö—Ä–æ–∫ 3: –î–æ–¥–∞–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
–í —Ä–æ–∑–¥—ñ–ª—ñ **Environment Variables** –¥–æ–¥–∞–π—Ç–µ:

```
DJANGO_SETTINGS_MODULE=CRM_Nice.settings.production
SECRET_KEY=<–∑–≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∞–±–æ —Å—Ç–≤–æ—Ä—ñ—Ç—å —Å–≤—ñ–π>
DEBUG=False
ALLOWED_HOSTS=your-app-name.onrender.com
DATABASE_URL=<–≤—Å—Ç–∞–≤—Ç–µ URL –≤–∞—à–æ—ó —ñ—Å–Ω—É—é—á–æ—ó –±–∞–∑–∏>
CSRF_TRUSTED_ORIGINS=https://your-app-name.onrender.com
```

### –ö—Ä–æ–∫ 4: Deploy
–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create Web Service"** - –¥–µ–ø–ª–æ–π –ø–æ—á–Ω–µ—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ!

---

## –í–∞—Ä—ñ–∞–Ω—Ç 2: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è SQLite (–¢–∏–º—á–∞—Å–æ–≤–µ —Ä—ñ—à–µ–Ω–Ω—è)

‚ö†Ô∏è **–£–≤–∞–≥–∞:** SQLite –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –¥–ª—è production, –∞–ª–µ –ø—Ä–∞—Ü—é—î –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è.

### –ü–µ—Ä–µ–≤–∞–≥–∏:
- ‚úÖ –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –æ–∫—Ä–µ–º–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- ‚úÖ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ
- ‚úÖ –®–≤–∏–¥–∫–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ù–µ–¥–æ–ª—ñ–∫–∏:
- ‚ùå –î–∞–Ω—ñ –º–æ–∂—É—Ç—å –≤—Ç—Ä–∞—Ç–∏—Ç–∏—Å—è –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç—ñ —Å–µ—Ä–≤–µ—Ä–∞
- ‚ùå –ü–æ–≥–∞–Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø—ñ–¥ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º
- ‚ùå –ù–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è production

### –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:

**render.yaml –≤–∂–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ!** –ü–æ—Ç–æ—á–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:
- –ù–µ —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤—É –±–∞–∑—É –¥–∞–Ω–∏—Ö
- –Ø–∫—â–æ `DATABASE_URL` –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î PostgreSQL
- –Ø–∫—â–æ `DATABASE_URL` –ù–ï –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î SQLite

### –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Blueprint:
1. Render Dashboard ‚Üí **"New +"** ‚Üí **"Blueprint"**
2. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: `BonisOleg/odessa`
3. Render –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î –æ–Ω–æ–≤–ª–µ–Ω–∏–π `render.yaml` (–±–µ–∑ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ë–î)
4. –£ Environment Variables **–ù–ï –¥–æ–¥–∞–≤–∞–π—Ç–µ** `DATABASE_URL`
5. Deploy - –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î SQLite

### –ê–±–æ —Å—Ç–≤–æ—Ä—ñ—Ç—å Web Service –≤—Ä—É—á–Ω—É:
1. Render Dashboard ‚Üí **"New +"** ‚Üí **"Web Service"**
2. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ —è–∫ —É –í–∞—Ä—ñ–∞–Ω—Ç—ñ 1, –∞–ª–µ **–ù–ï –¥–æ–¥–∞–≤–∞–π—Ç–µ** `DATABASE_URL`

---

## –í–∞—Ä—ñ–∞–Ω—Ç 3: –û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–æ Paid –ø–ª–∞–Ω—É PostgreSQL

–Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –æ–∫—Ä–µ–º–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –¥–ª—è —Ü—å–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É:

1. –û–Ω–æ–≤—ñ—Ç—å —ñ—Å–Ω—É—é—á—É –±–∞–∑—É –¥–∞–Ω–∏—Ö –¥–æ Paid –ø–ª–∞–Ω—É ($7/–º—ñ—Å—è—Ü—å)
2. –ê–±–æ –≤–∏–¥–∞–ª—ñ—Ç—å —Å—Ç–∞—Ä—É –±–∞–∑—É (—è–∫—â–æ –≤–æ–Ω–∞ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è)
3. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ `render-with-db.yaml` –∑–∞–º—ñ—Å—Ç—å `render.yaml`:
   ```bash
   mv render.yaml render-no-db.yaml
   mv render-with-db.yaml render.yaml
   git add .
   git commit -m "Use PostgreSQL database configuration"
   git push
   ```

---

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç (–í–∞—Ä—ñ–∞–Ω—Ç 2 - SQLite)

–Ø–∫—â–æ —Ö–æ—á–µ—Ç–µ —à–≤–∏–¥–∫–æ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –¥–µ–ø–ª–æ–π –±–µ–∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö:

1. **–ö–æ–¥ –≤–∂–µ –∑–∞–ø—É—à–µ–Ω–æ** –≤ `git@github.com:BonisOleg/odessa.git`
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [Render Dashboard](https://dashboard.render.com/)
3. **"New +"** ‚Üí **"Blueprint"**
4. –û–±–µ—Ä—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π `BonisOleg/odessa`
5. –£ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –¥–æ–¥–∞–π—Ç–µ:
   - `ALLOWED_HOSTS` = `your-app-name.onrender.com`
   - `CSRF_TRUSTED_ORIGINS` = `https://your-app-name.onrender.com`
6. **–ù–ï –¥–æ–¥–∞–≤–∞–π—Ç–µ** `DATABASE_URL`
7. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Apply"**

–ì–æ—Ç–æ–≤–æ! –ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ SQLite.

---

## üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤

| –í–∞—Ä—ñ–∞–Ω—Ç | –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å | –í–∞—Ä—Ç—ñ—Å—Ç—å | Production-ready | –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ |
|---------|-----------|----------|------------------|---------------|
| 1. –Ü—Å–Ω—É—é—á–∞ PostgreSQL | –°–µ—Ä–µ–¥–Ω—è | Free* | ‚úÖ –¢–∞–∫ | ‚úÖ –î–ê |
| 2. SQLite | –õ–µ–≥–∫–∞ | Free | ‚ùå –ù—ñ | –¢—ñ–ª—å–∫–∏ –¥–ª—è —Ç–µ—Å—Ç—ñ–≤ |
| 3. –ù–æ–≤–∞ PostgreSQL | –õ–µ–≥–∫–∞ | $7/–º—ñ—Å | ‚úÖ –¢–∞–∫ | –î–ª—è –æ–∫—Ä–µ–º–∏—Ö –ø—Ä–æ—î–∫—Ç—ñ–≤ |

*—è–∫—â–æ –±–∞–∑–∞ –≤–∂–µ —î

---

## üîç –©–æ –±—É–ª–æ –∑–º—ñ–Ω–µ–Ω–æ –≤ –∫–æ–¥—ñ:

1. **`render.yaml`** - –≤–∏–¥–∞–ª–µ–Ω–æ —Å–µ–∫—Ü—ñ—é `databases`, —â–æ–± –Ω–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–æ–≤—É –ë–î
2. **`production.py`** - –¥–æ–¥–∞–Ω–æ fallback –Ω–∞ SQLite, —è–∫—â–æ `DATABASE_URL` –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
3. **`render-with-db.yaml`** - –∑–±–µ—Ä–µ–∂–µ–Ω–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –∑ –ë–î

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è

**–î–ª—è production:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **–í–∞—Ä—ñ–∞–Ω—Ç 1** (—ñ—Å–Ω—É—é—á–∞ PostgreSQL –±–∞–∑–∞)  
**–î–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **–í–∞—Ä—ñ–∞–Ω—Ç 2** (SQLite)

---

## ‚ùì –ü–∏—Ç–∞–Ω–Ω—è?

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º–∏:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard ‚Üí –≤–∞—à —Å–µ—Ä–≤—ñ—Å ‚Üí "Logs"
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –≤—Å—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –î–ª—è SQLite: –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ `DATABASE_URL` –ù–ï –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ



